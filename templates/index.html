{% extends "base_template.html" %}

{% block content %}
  <div class="container">
    <div class="d-flex flex-row">
      <h2 class="mr-auto">Current Status</h2>
      <p class="align-self-end mb-0">Data from the past {{ history_size }} days.</p>
    </div>
    {% for proj_status in projects %}
     <div class="card mt-2 mb-2">
        <div class="card-header">
          <div class="d-flex flex-row">
              <h5 class="card-title">{{ proj_status.project.name }}</h5>
              {% if proj_status.has_description() %}
                <img class="ml-1 mr-1" src="/static/images/help-circle.svg" width="24px" height="24px" data-toggle="tooltip" data-placement="top" data-html="true" title="{{ proj_status.get_desc() }}"/>
              {% endif %}
            <div class="mr-auto"></div>
            <h5 class="card-title" style="color: {{ proj_status.today.get_status_colour() }}">{{ proj_status.today.get_overall_status() }}</h5>
          </div>
        </div>
      <div class="card-body">
        <div class="d-flex flex-row justify-content-around">
          {% for day in proj_status.days %}
            <div class="ml-1 mr-1" style="width: 10px; height: 50px; background: {{ day.get_status_colour() }}" data-toggle="tooltip" data-placement="top" data-html="true" title="{{ day.get_tooltip() }}"></div>
          {% endfor %}
        </div>
        <div class="d-flex flex-row">
          <p class="mr-auto">{{ history_size }} days ago</p>
          <p>Today</p>
        </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% endblock %}
